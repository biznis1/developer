<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
  
   <script src="js/jquery-2.1.1.min.js"></script>
  <script src="js/materialize.min.js"></script>
  <script src="js/init.js"></script>
  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="css/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
 <style>
    ul.select-dropdown,ul.dropdown-content{
    width:200% !important;
}
  [type="checkbox"].filled-in:not(:checked)+label:after {
    height: 13px;
    width: 13px;
    background-color: transparent;
    border: 2px solid #5a5a5a;
    top: 5px;
    z-index: 0;
}
     [type="checkbox"].filled-in:checked+label:after {
    top: 5px;
    width: 13px;
    height: 13px;
    border: 2px solid #26a69a;
    background-color: #26a69a;
    z-index: 0;
}
     [type="checkbox"].filled-in:checked+label:before {
    top: 5px;
    left: -2px;
    width: 8px;
    height: 9px;
    border-top: 0px solid transparent;
    border-left: 6px solid transparent;
    border-right: 2px solid #fff;
    border-bottom: 2px solid #fff;
    -webkit-transform: rotateZ(37deg);
    transform: rotateZ(37deg);
    -webkit-transform-origin: 100% 100%;
    transform-origin: 100% 100%;
}
     textarea.materialize-textarea {
    max-height: 1.2rem;
    padding: 1.6rem 0;
    resize: none;
    min-height: 1.2rem;
    overflow: hidden;
}
     #select-options-db31861f-7da5-99cc-300e-3de43aa031cc{
         width: 15px;
     }
    
    </style>
    <script>
        function checkbox(){
            getOutput();
            var i=1;
    window.localStorage.setItem('ival',i);
            console.log(document.getElementById('filled-in-box').checked);
    if(document.getElementById('filled-in-box').checked == true) {
        console.log('true');
      $("#shipping").hide();
        } else {
            console.log('true');
            $("#shipping").show();
        } 
        }
       
    </script>
</head>
<body onload="checkbox()">
  <nav class="light-blue lighten-1" role="navigation">
    <div class="nav-wrapper container"><a id="logo-container" href="#" class="brand-logo">Logo</a>
      <ul class="right hide-on-med-and-down">
        <li><a href="#">Navbar Link</a></li>
      </ul>

      <ul id="nav-mobile" class="side-nav">
        <li><a href="#">Navbar Link</a></li>
      </ul>
      <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
    </div>
  </nav>
    <center><p id='result'></p></center>
  <div class="section no-pad-bot" id="index-banner">
    <div class="container">
     
        
        

    </div>
  </div>


  <div class="container">
   
  <div class="section">
    <p style="font-size:1.3rem; font-weight:400;">Create Sales Invoice</p>

      <div class="row">
        <div class="input-field col s6">
          <input placeholder="Invoice" id="first_name" type="text" class="validate">
          <label for="first_name">Invoice ID(Set Sequence)</label>
        </div>
        <div class="input-field col s6">
          <input id="date" type="date" class="datepicker" value="2017-07-08" >
          <label for="first_name">Invoice date</label>
        </div>
      </div>
      
      <div class="row">
        <div class="input-field col s6">
          <input placeholder="Reference" id="first_name" type="text" class="validate">
          <label for="first_name">P.O number, text etc.</label>
        </div>
        <div class="input-field col s6">
          <input id="date" type="date" class="datepicker" >
          <label for="first_name">Due date</label>
        </div>
      </div>
      <div class="row">
        <div class=" col s9">
          <a onclick="tableForm()" class="waves-effect waves-teal btn-flat" style="border:1px solid #d7ccc8 ;">View sales invoice</a>
          <a class="waves-effect waves-light btn  green lighten-1">button</a>
        </div>
       
      </div>
    
  </div>
  <div class="divider"></div>
  <div class="row ">
      <div class="row col s12" style="margin-top:10px;">
      <div class="input-field col s4">
          <input id="cust_name" type="text" >
          <label for="cust_name" style="font-size:0.8rem;">Customer Name</label><a href="#"><i style="font-size:1.1rem;margin-top: -37px;margin-right: -10px;" class="right material-icons">note_add</i></a>
          <p class="left" style="font-size:0.8rem;">GISTIN:</p>
          <p class="left" style="margin-left:15px; font-size:0.8rem;">Place of Supply:</p>
        </div>
          
          <div class="input-field col s4">
          <p class="left" style="font-size:1rem;">Billing Address</p> <a class="modal-trigger" href="#modal1"  ><p class="left" style="margin-left:15px;font-size:1rem;">Edit</p></a>
        </div>
          <div class="input-field col s4">
          <p class="left" style="font-size:1rem;">Shipping Address</p> <a class="modal-trigger" href="#modal1" ><p class="left" style="margin-left:15px;font-size:1rem;" id="shipping">Edit</p></a>
              <p></p>
              <div style="margin-top:75px;">
              <p >
                  <input onchange="checkbox()" type="checkbox" checked class="filled-in" id="filled-in-box" style="height:10px;width:10px;" />
                  <label for="filled-in-box" style="font-size:0.8rem;left: -15px;">Same as billing add.</label>
                </p>
                  </div>
        </div>
     
      </div>
      </div>
      <div class="divider"></div>
      <div style="overflow: auto;">
      <table border="1" style="width:160%;">
        <thead>
          <tr>
<!--              <th onclick="tableRow()" rowspan="2" style="background-color:#f3f4f6;">#</th>-->
              <th onclick="tableRow()" rowspan="2" style="background-color:#f3f4f6;">Item Description</th>
              <th rowspan="2" style="background-color:#f3f4f6;">Item Type</th>
              <th rowspan="2" style="background-color:#f3f4f6;">HSN / SAC</th>
              <th rowspan="2" style="background-color:#f3f4f6;">Qty</th>
              <th rowspan="2" style="background-color:#f3f4f6;">Rate/Item (&#8377)</th>
              <th rowspan="2" style="background-color:#f3f4f6;">Discount (&#8377)</th>
              <th rowspan="2" style="background-color:#f3f4f6;">Taxable Value</th>
              <th colspan="2" style="text-align:center;background-color:#f3f4f6;">CGST</th>
              <th colspan="2" style="text-align:center;background-color:#f3f4f6;">SGST</th>
              <th colspan="2" style="text-align:center;background-color:#f3f4f6;">IGST</th>
              <th colspan="2" style="text-align:center;background-color:#f3f4f6;">CESS</th>
              <th rowspan="2" style="background-color:#f3f4f6;">Total</th>
          </tr>
            <tr>
              
              
              
              <th style="text-align:center;background-color:#f3f4f6;">%</th>
              <th style="background-color:#f3f4f6;">Amount(&#8377)</th>
              <th style="text-align:center;background-color:#f3f4f6;">%</th>
              <th style="background-color:#f3f4f6;">Amount(&#8377)</th>
                <th style="text-align:center;background-color:#f3f4f6;">%</th>
              <th style="background-color:#f3f4f6;">Amount(&#8377)</th>
                <th style="text-align:center;background-color:#f3f4f6;">%</th>
              <th style="background-color:#f3f4f6;">Amount(&#8377)</th>
              
              
              
          </tr>
        </thead>

        <tbody id="newRow">
          <tr style="border-bottom:1px soloid #ccc;">
<!--            <td style="border-bottom: 1px solid #ccc;">1</td>-->
            <td style="border-bottom: 1px solid #ccc;"> <div class="input-field">
              <input name="itemdisc[]" type="text" class="validate">
            </div>
              </td>
            <td style="border-bottom: 1px solid #ccc;"><div class="input-field">
              <select name="itemtype[]" class="browser-default" style="width:110px;">
                  <option value="" disabled selected></option>
                  <option value="goods">GOODS</option>
                  <option value="services">SERVICES</option>
                  
                </select>
                
            </div></td>
            <td style="border-bottom: 1px solid #ccc;"><div class="input-field">
              <input name="hsnsac[]" type="text" class="validate">
            </div></td>
            <td style="border-bottom: 1px solid #ccc;"><div class="input-field">
              <input name="qty[]" type="text" class="validate">
            </div></td>
            <td style="border-bottom: 1px solid #ccc;"><div class="input-field">
              <input name="rateitem[]" type="text" class="validate">
            </div></td>
            <td style="border-bottom: 1px solid #ccc;"><div class="input-field">
              <input  type="text" name="discount[]" class="validate">
            </div></td>
            <td style="border-bottom: 1px solid #ccc;"><div class="input-field">
              <input type="text" name="taxval[]" class="validate">
            </div></td>
            <td style="border-bottom: 1px solid #ccc;"><div class="input-field">
                <select name="cgstper[]" class="browser-default" style="width:100px;">  
                <option value="" disabled selected></option>
                  <option value="1">0</option>
                  <option value="0.125">0.125</option>
                  <option value="1.5">1.5</option>
                  <option value="2.5">2.5</option>
                  <option value="6">6</option>
                  <option value="9">9</option>
                  <option value="14">14</option>
                  
                </select>
            </div></td>
            <td style="border-bottom: 1px solid #ccc;"><div class="input-field">
              <input type="text" name="cgstamt[]" class="validate">
            </div></td>
            <td style="border-bottom: 1px solid #ccc;"><div class="input-field">
              <select name="sgstper[]" class="browser-default" style="width:100px;">  
                <option value="" disabled selected></option>
                  <option value="0">0</option>
                  <option value="0.125">0.125</option>
                  <option value="1.5">1.5</option>
                  <option value="2.5">2.5</option>
                  <option value="6">6</option>
                  <option value="9">9</option>
                  <option value="14">14</option>
                  
                </select>
            </div></td>
            <td style="border-bottom: 1px solid #ccc;"><div class="input-field">
              <input type="text" name="sgstamt[]" class="validate">
            </div></td>
            <td style="border-bottom: 1px solid #ccc;"><div class="input-field">
                <input type="text" disabled name="igstper[]" value="0" class="validate">
            </div></td>
            <td style="border-bottom: 1px solid #ccc;"><div class="input-field">
              <input type="text" name="igstamt[]" class="validate">
            </div></td>
            <td style="border-bottom: 1px solid #ccc;"><div class="input-field">
              <input  type="text" name="cessper[]" class="validate">
            </div></td>
            <td style="border-bottom: 1px solid #ccc;"><div class="input-field">
              <input type="text" name="cessamt[]" class="validate">
            </div></td>
            <td style="border-bottom: 1px solid #ccc;"><div class="input-field">
              <input type="text" disabled name="total[]" class="validate">
            </div></td>
          </tr>
          </tbody>
          <tbody id="rowAppend">
          <tr >
            
            <td colspan="5" style="text-align: right; padding-right:20px;border-bottom: 1px solid #ccc; ">Total Inv. Val</td>
            <td  style="border-bottom: 1px solid #ccc;background-color:#fffcd7;">$0.87</td>
            <td  style="border-bottom: 1px solid #ccc;background-color:#fffcd7;">$0.87</td>
            <td colspan="2" style="border-bottom: 1px solid #ccc;text-align: center;background-color:#fffcd7;">$0.87</td>
            <td colspan="2" style="border-bottom: 1px solid #ccc;text-align: center;background-color:#fffcd7;">$0.87</td>
            <td colspan="2" style="border-bottom: 1px solid #ccc;text-align: center;background-color:#fffcd7;">$0.87</td>
            <td colspan="2" style="border-bottom: 1px solid #ccc;text-align: center;background-color:#fffcd7;">$0.87</td>
            <td style="border-bottom: 1px solid #ccc;text-align: center;background-color:#fffcd7;">$0.87</td>

          </tr>
        </tbody>
      </table>
          </div> 
      <div class="row">
        <div class="col s6" >
        <div class="input-field col s12"style="top: 50px; padding-bottom: 125px;">
            <select class="col s12 browser-default" >
              <option value="" disabled selected>Advance Settings</option>
              <option value="1">Reverse charge</option>
              <option value="2">TCS</option>
              <option value="3">TDS</option>
            </select>
            <label></label>
            </div>
        </div>
        <div class="col s6">
           <ul class="collection" style="top: 50px;">
              <li class="collection-item"><p id="gt" class="left" style="margin-top: 7px;">GRAND TOTAL</p><p class="right"style="margin-top: 7px;" id="price">00.00</p></li>
            </ul>
        </div>
      </div>
      
  </div>
<div id="modal1" class="modal modal-fixed-footer">
    <div class="modal-content">
        <p style="font-size:1.1rem;">Edit billing address</p>
        <div class="row col s12">
      <div class="input-field col s6">
          <textarea id="Address" class="materialize-textarea"></textarea>
          <label for="Address">Address</label>
        </div><br>
            <div class="input-field col s6">
          <input id="pin" type="tel" class="validate" maxlength="6">
          <label for="pin">Pincode</label>
        </div>
        <div class="input-field col s6">
          <input id="city" type="tel" class="validate" maxlength="6">
          <label for="city">City</label>
        </div>
            <div class="input-field col s6" style=" margin-top: -57px;">
          <input id="state" type="tel" class="validate" maxlength="6">
          <label for="state">State</label>
        </div>
        </div>
    </div>
    <div class="modal-footer">
      <a href="#!" class="left modal-action modal-close waves-effect waves-green btn-flat green-text" style="">Submit</a>
      <a href="#!" class="right modal-action modal-close waves-effect waves-red btn-flat red-text" style="">Cancel</a>
    </div>
  </div>

  <!--  Scripts-->
 
    <script>
        function tableForm(){
            var newArray2 = [];
            
            var itemdisc = $('input[name="itemdisc[]"]').map(function() {
                    return this.value
                }).get();
            
            var itemtype = $('select[name="itemtype[]"]').map(function() {
                    return this.value
                }).get();
            
            var hsnsac = $('input[name="hsnsac[]"]').map(function() {
                    return this.value
                }).get();
             var qty = $('input[name="qty[]"]').map(function() {
                    return this.value
                }).get();
            var rateitem = $('input[name="rateitem[]"]').map(function() {
                    return this.value
                }).get();
            
            var discount = $('input[name="discount[]"]').map(function() {
                    return this.value
                }).get();
            
            var taxval = $('input[name="taxval[]"]').map(function() {
                    return this.value
                }).get();
            
            var cgstper = $('select[name="cgstper[]"]').map(function() {
                    return this.value
                }).get();
            
            var cgstamt = $('input[name="cgstamt[]"]').map(function() {
                    return this.value
                }).get();
            
            var sgstper = $('input[name="sgstper[]"]').map(function() {
                    return this.value
                }).get();
            
            var sgstamt = $('input[name="sgstamt[]"]').map(function() {
                    return this.value
                }).get();
            
            var igstper = $('input[name="igstper[]"]').map(function() {
                    return this.value
                }).get();
            
//            var igstper = $('input[name="igstamt[]"]').map(function() {
//                    return this.value
//                }).get();
            
            var igstamt = $('input[name="igstamt[]"]').map(function() {
                    return this.value
                }).get();
            var cessper = $('input[name="cessper[]"]').map(function() {
                    return this.value
                }).get();
            var cessamt = $('input[name="cessamt[]"]').map(function() {
                    return this.value
                }).get();
            
            var total = $('input[name="total[]"]').map(function() {
                    return this.value
                }).get();
            console.log(itemdisc);
            console.log(itemtype);
            
            var rowArray;
              for(var i=0; i<itemdisc.length; i++){
                  rowArray = {itemdisc:itemdisc[i], itemtype:itemtype[i], hsnsac:hsnsac[i], qty:qty[i], rateitem:rateitem[i], discount:discount[i], taxval:taxval[i], cgstper:cgstper[i], cgstamt:cgstamt[i], sgstamt:cgstamt[i], sgstper:sgstper[i], sgstamt:sgstamt[i], igstper:igstper[i], igstamt:igstamt[i], cessper:cessper[i], cessamt:cessamt[i], total:total[i]};
                  newArray2[i] = rowArray;
              }
            console.log(newArray2);
            window.localStorage.setItem('newArrayGstr',JSON.stringify(newArray2));
            console.log('newArrayGstr',JSON.stringify(newArray2));
        }
        
        
    
    </script>
 
  <script src="js/custom.js"></script>
  <script src="js/jsFunction.js"></script>
    
  </body>
  
</html>
